<h1>ğŸ“¦ Productos Recibidos desde RabbitMQ</h1>

<% if @mensajes.empty? %>
  <div class="alert alert-warning">
    <p>No hay productos en la cola.</p>
  </div>
<% else %>
  <table class="table table-striped">
    <thead>
      <tr>
        <th>ID</th>
        <th>ğŸ·ï¸ TÃ­tulo</th>
        <th>ğŸ“– DescripciÃ³n</th>
        <th>ğŸ’° Precio</th>
        <th>ğŸ“¦ Stock</th>
      </tr>
    </thead>
    <tbody>
      <% @mensajes.each do |producto| %>
        <tr>
          <td><%= producto[:id] %></td>
          <td><%= producto[:titulo] %></td>
          <td><%= producto[:description] %></td>
          <td>$<%= producto[:price] %></td>
          <td><%= producto[:stock] %></td>
        </tr>
      <% end %>
    </tbody>
  </table>
<% end %>

<!-- BotÃ³n para recargar los mensajes sin recargar la pÃ¡gina -->
<button id="recargar-btn" class="btn btn-primary">ğŸ”„ Recargar Mensajes</button>

<script>
  document.getElementById('recargar-btn').addEventListener('click', function() {
    location.reload(); // Recarga la pÃ¡gina para obtener nuevos mensajes
  });
</script>
